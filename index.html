<!DOCTYPE html>
<html lang="sk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title data-translate-key="meta_title">Stolárstvo Petro | Luxusná Drevovýroba</title>
    <meta name="description" data-translate-key="meta_description"
        content="Prémiové stolárske výrobky a remeselné riešenia z kvalitného dreva. Rodinná tradícia od roku 1992.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <style>
        /* ============================================= */
        /* 1. CSS Variables & Base Styles */
        /* ============================================= */
        :root {
            --color-primary: #8B5F4C;
            --color-primary-dark: #5A3A2C;
            --color-primary-light: #C0A89C;
            --color-accent: #E8D8C8;
            --color-background: #F9F6F2;
            --color-text: #2C2C2C;
            --color-text-light: #FFFFFF;
            --color-border: rgba(0, 0, 0, 0.08);
            --color-dark-bg: #0a0a0a;
            --color-dark-surface: rgba(20, 20, 20, 0.8);
            --color-dark-surface-alt: rgba(30, 30, 30, 0.6);
            --color-dark-text: #E0E0E0;
            --color-dark-text-light: #FFFFFF;
            --color-dark-border: rgba(255, 255, 255, 0.12);
            --color-dark-accent: #cccccc;
            --font-primary: 'Montserrat', sans-serif;
            --font-secondary: 'Playfair Display', serif;
            --spacing-unit: 1rem;
            --border-radius: 12px;
            --border-radius-lg: 24px;
            --max-width: 1440px;
            --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 16px 40px rgba(0, 0, 0, 0.15);
            --transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            --backdrop-blur: blur(10px);
        }

        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 100%;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
        }

        body.dark-mode {
            background-color: var(--color-dark-bg);
            color: var(--color-dark-text);
            background-image: linear-gradient(to bottom, #000000, #0a0a0a, #141414);
        }

        /* ============================================= */
        /* 2. Typography */
        /* ============================================= */
        h1,
        h2,
        h3,
        h4 {
            font-family: var(--font-secondary);
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 1.5rem;
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            letter-spacing: -0.05em;
        }

        h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            position: relative;
            display: inline-block;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -0.75rem;
            left: 50%;
            transform: translateX(-50%);
            width: 20%;
            height: 4px;
            background-color: var(--color-primary);
            border-radius: 2px;
        }

        h3 {
            font-size: clamp(1.5rem, 3vw, 2rem);
        }

        p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        /* ============================================= */
        /* 3. Utility Classes */
        /* ============================================= */
        .container {
            width: 100%;
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 calc(var(--spacing-unit) * 2);
        }

        .section {
            padding: calc(var(--spacing-unit) * 6) 0;
            position: relative;
        }

        .section-title {
            padding-top: 65px !important;
            margin-bottom: 0 !important;
        }

        .section-title h2 {
            font-size: 2.5rem !important;
            margin-bottom: 5px !important;
            padding-top: 0 !important;
            text-align: center;
            color: var(--color-primary-dark) !important;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Kontakt sekcia - nadpis nižšie o 10px */
        #contact .section-title {
            padding-top: 75px !important;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            border-radius: var(--border-radius);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.9rem;
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-text-light);
            box-shadow: var(--shadow-sm);
        }

        .btn-primary:hover {
            background-color: var(--color-primary-dark);
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .btn-outline {
            background-color: transparent;
            border-color: var(--color-primary);
            color: var(--color-primary);
        }

        .btn-outline:hover {
            background-color: var(--color-primary);
            color: var(--color-text-light);
        }

        .text-center {
            text-align: center;
        }

        /* ============================================= */
        /* 4. Dark Mode Styles */
        /* ============================================= */
        body.dark-mode {
            background-color: var(--color-dark-bg);
            color: var(--color-dark-text);
        }

        body.dark-mode h1,
        body.dark-mode h2,
        body.dark-mode h3,
        body.dark-mode h4 {
            color: var(--color-dark-text-light);
        }

        body.dark-mode h2::after {
            background-color: var(--color-dark-accent);
        }

        body.dark-mode .btn-primary {
            background-color: rgba(0, 0, 0, 0.7);
            color: var(--color-dark-text-light);
            border: 1px solid var(--color-dark-border);
            backdrop-filter: var(--backdrop-blur);
        }

        body.dark-mode .btn-primary:hover {
            background-color: rgba(0, 0, 0, 0.9);
            transform: translateY(-3px);
        }

        body.dark-mode .btn-outline {
            border-color: var(--color-dark-accent);
            color: var(--color-dark-accent);
            background-color: transparent;
            backdrop-filter: var(--backdrop-blur);
        }

        body.dark-mode .btn-outline:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--color-dark-text-light);
        }

        /* ============================================= */
        /* 5. Header & Navigation */
        /* ============================================= */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            padding: 8px 0;
            background-color: rgba(249, 246, 242, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--color-border);
            transition: var(--transition);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo-img {
            width: 45px;
            height: 45px;
            object-fit: contain;
            border-radius: 50%;
        }

        .logo-text {
            font-family: var(--font-secondary);
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--color-primary-dark);
        }

        body.dark-mode header {
            background-color: rgba(10, 10, 10, 0.8);
            border-bottom-color: var(--color-dark-border);
            backdrop-filter: var(--backdrop-blur);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-img {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 50%;
        }

        .logo-text {
            font-family: var(--font-secondary);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-primary-dark);
        }

        body.dark-mode .logo-text {
            color: var(--color-dark-text-light);
        }

        nav {
            display: flex;
            align-items: center;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: calc(var(--spacing-unit) * 2);
        }

        .nav-link {
            position: relative;
            font-weight: 500;
            padding: 0.5rem 0;
            color: var(--color-text);
        }

        body.dark-mode .nav-link {
            color: var(--color-dark-text);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--color-primary);
            transition: var(--transition);
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        .nav-link:hover {
            color: var(--color-primary);
        }

        body.dark-mode .nav-link:hover {
            color: var(--color-dark-accent);
        }

        body.dark-mode .nav-link::after {
            background-color: var(--color-dark-accent);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--color-primary);
            cursor: pointer;
        }

        body.dark-mode .mobile-menu-btn {
            color: var(--color-dark-text-light);
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.25rem;
            color: var(--color-primary);
            cursor: pointer;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background-color: rgba(139, 95, 76, 0.1);
        }

        /* ÚPRAVA PREPÍNAČA JAZYKOV S OBRÁZKAMI VLÁJOK */
        .lang-switch {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0 6px;
            opacity: 0.7;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
        }

        .lang-switch img {
            width: 26px;
            height: auto;
            border-radius: 4px;
            transition: var(--transition);
            display: block;
        }

        .lang-switch:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        .lang-switch.active {
            opacity: 1;
            transform: scale(1.1);
        }

        .lang-switch.active img {
            box-shadow: 0 0 0 2px var(--color-primary);
        }

        /* KONIEC ŠTÝLOV PRE VLAJKY */


        body.dark-mode .theme-toggle {
            color: var(--color-dark-text-light);
        }

        body.dark-mode .theme-toggle:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* === NOVÉ: OPRAVA VIDITEĽNOSTI VLAJOK V DARK MODE === */
        body.dark-mode .lang-switch {
            opacity: 1;
            /* Zabezpečí plnú viditeľnosť v tmavom režime */
        }

        body.dark-mode .lang-switch.active img {
            box-shadow: 0 0 0 2px var(--color-dark-accent);
            /* Rámik v štýle dark mode */
        }

        /* === KONIEC OPRAVY === */


        /* ============================================= */
        /* 6. Hero Section - UPRAVENÉ */
        /* ============================================= */
        .hero {
            height: 100vh;
            min-height: 800px;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            background:
                linear-gradient(rgba(0, 0, 0, 0.4),
                    rgba(0, 0, 0, 0.2)),
                url('Pozadie.png') no-repeat center center/cover;
            color: var(--color-text-light);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                    rgba(0, 0, 0, 0.6) 0%,
                    rgba(0, 0, 0, 0.3) 50%,
                    rgba(0, 0, 0, 0.6) 100%);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 calc(var(--spacing-unit) * 2);
            margin-top: 60px;
            padding-top: calc(var(--spacing-unit) * 4);
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 4rem;
            align-items: center;
        }

        .hero-text {
            padding-right: 2rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: var(--border-radius-lg);
            padding: 3rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: var(--shadow-lg);
        }

        body.dark-mode .hero-text {
            background: rgba(10, 10, 10, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: var(--backdrop-blur);
        }

        .hero-image {
            display: none;
            /* Skryjeme pôvodný obrázok */
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5.5vw, 4.8rem);
            letter-spacing: -0.05em;
            font-family: var(--font-secondary);
            font-weight: 600;
            line-height: 1.3;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease forwards;
            color: var(--color-text-light);
            text-align: left;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .hero p {
            font-size: clamp(1rem, 2vw, 1.25rem);
            margin-bottom: 2.5rem;
            opacity: 0;
            animation: fadeInUp 1s ease 0.3s forwards;
            max-width: none;
            margin-left: 0;
            margin-right: 0;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            line-height: 1.7;
        }

        .hero-btns {
            display: flex;
            gap: 1.5rem;
            opacity: 0;
            animation: fadeInUp 1s ease 0.6s forwards;
            justify-content: flex-start;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ============================================= */
        /* 7. About Section */
        /* ============================================= */
        .about-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: calc(var(--spacing-unit) * 3);
            /* Zmenšené z *4 */
            align-items: start;
            /* Zmenené z center na start */
        }

        .about-text {
            padding: 1rem 0;
            /* Zmenšené z 2rem 0 */
            margin-top: -10px;
            /* Pridané - posunie text vyššie */
        }

        .about-text h3 {
            margin-bottom: 1rem;
            /* Zmenšené z 1.5rem */
        }

        .about-text p {
            margin-bottom: 1rem;
            /* Zmenšené z 1.5rem */
        }

        /* ============================================= */
        /* 8. Services Section */
        /* ============================================= */
        .services {
            background-color: var(--color-accent);
        }

        body.dark-mode .services {
            background-color: transparent;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: calc(var(--spacing-unit) * 3);
        }

        .service-card {
            background-color: var(--color-text-light);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            cursor: pointer;
        }

        body.dark-mode .service-card {
            background-color: var(--color-dark-surface);
            border: 1px solid var(--color-dark-border);
            backdrop-filter: var(--backdrop-blur);
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .service-card-img {
            width: 100%;
            height: 200px;
            /* Ešte menšie */
            overflow: hidden;
        }

        .service-card-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .service-card:hover .service-card-img img {
            transform: scale(1.1);
        }

        .service-card-content {
            padding: calc(var(--spacing-unit) * 1.25);
            /* Ešte menšie */
        }

        .service-card h3 {
            margin-bottom: 1rem;
            color: var(--color-primary-dark);
        }

        body.dark-mode .service-card h3 {
            color: var(--color-dark-text-light);
        }

        .service-card p {
            margin-bottom: 0.75rem;
            /* Ešte menšie */
            font-size: 0.95rem;
            /* Trochu menšie písmo */
            line-height: 1.5;
            /* Kompaktnejšie */
        }

        /* ============================================= */
        /* 9. Service Detail Section */
        /* ============================================= */
        .service-detail {
            display: none;
            padding: calc(var(--spacing-unit) * 6) 0;
            background-color: var(--color-background);
        }

        body.dark-mode .service-detail {
            background-color: transparent;
        }

        .service-detail.active {
            display: block;
            animation: fadeIn 0.8s ease forwards;
        }

        .service-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            margin-bottom: calc(var(--spacing-unit) * 3);
        }

        .back-btn {
            position: static;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            background-color: transparent;
            border: 2px solid var(--color-border);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            color: var(--color-text);
        }

        .back-btn:hover {
            background-color: var(--color-accent);
        }

        body.dark-mode .back-btn {
            border-color: var(--color-dark-border);
            color: var(--color-dark-text);
            backdrop-filter: var(--backdrop-blur);
        }

        body.dark-mode .back-btn:hover {
            background-color: var(--color-dark-surface-alt);
            color: var(--color-dark-accent);
        }

        .service-detail-header h2 {
            flex-grow: 1;
            text-align: center;
            margin: 0;
        }

        .service-detail-header h2::after {
            left: 50%;
            transform: translateX(-50%);
        }

        .service-detail-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: calc(var(--spacing-unit) * 4);
        }

        .service-detail-text {
            text-align: left;
            padding: 0 1rem;
        }

        body.dark-mode .service-detail-text {
            background-color: var(--color-dark-surface);
            padding: 2rem;
            border-radius: var(--border-radius-lg);
            backdrop-filter: var(--backdrop-blur);
            border: 1px solid var(--color-dark-border);
        }

        .service-detail-text p {
            margin-bottom: 1.5rem;
        }

        .service-features {
            list-style: none;
            margin: 2rem 0;
            max-width: 800px;
            padding-left: 0;
            text-align: left;
        }

        .service-features li {
            position: relative;
            padding-left: 2rem;
            margin-bottom: 1rem;
            list-style-type: none;
            text-align: left;
        }

        .service-features li::before {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: var(--color-primary);
            position: absolute;
            left: 0;
            top: 0.2rem;
        }

        body.dark-mode .service-features li::before {
            color: var(--color-dark-accent);
        }

        .service-detail-image {
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        body.dark-mode .service-detail-image {
            border: 1px solid var(--color-dark-border);
        }

        .service-detail-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .service-detail .btn-primary {
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            display: inline-block;
        }

        /* ============================================= */
        /* 10. Gallery */
        /* ============================================= */
        .service-detail .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
            padding-top: 3rem;
            border-top: 1px solid var(--color-border);
        }

        body.dark-mode .service-detail .gallery {
            border-top-color: var(--color-dark-border);
        }

        .service-detail .gallery-item {
            position: relative;
            border-radius: var(--border-radius);
            overflow: hidden;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            height: 250px;
            background-color: var(--color-accent);
        }

        body.dark-mode .service-detail .gallery-item {
            background-color: var(--color-dark-surface);
            border: 1px solid var(--color-dark-border);
            backdrop-filter: var(--backdrop-blur);
        }

        .service-detail .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background-color: var(--color-accent);
            padding: 0.5rem;
            transition: var(--transition);
        }

        body.dark-mode .service-detail .gallery-item img {
            background-color: rgba(30, 30, 30, 0.5);
        }

        .service-detail .gallery-item:hover img {
            transform: scale(1.03);
        }

        .service-detail .gallery-caption {
            padding: 0.75rem 0;
            text-align: center;
            font-weight: 500;
            color: var(--color-primary-dark);
            font-family: var(--font-secondary);
            font-size: 0.9rem;
            background-color: var(--color-accent);
            border-radius: 0 0 var(--border-radius) var(--border-radius);
        }

        body.dark-mode .service-detail .gallery-caption {
            color: var(--color-dark-text-light);
            background-color: var(--color-dark-surface-alt);
        }

        /* ============================================= */
        /* 11. Contact Section - KOMPLETNE OPRAVENÉ */
        /* ============================================= */
        .contact {
            background-color: var(--color-background);
            padding: 30px 0;
            min-height: auto;
        }

        body.dark-mode .contact {
            background-color: transparent;
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            align-items: stretch;
            margin-top: 10px !important;
        }

        .contact-info,
        .contact-form {
            background-color: var(--color-text-light);
            padding: 25px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-sm);
            height: auto;
        }

        body.dark-mode .contact-info,
        body.dark-mode .contact-form {
            background-color: var(--color-dark-surface);
            border: 1px solid var(--color-dark-border);
            backdrop-filter: var(--backdrop-blur);
        }

        .contact-info h3,
        .contact-form h3 {
            margin-bottom: 20px;
            color: var(--color-primary-dark);
            font-size: 1.75rem;
            font-family: var(--font-secondary);
            text-align: center;
        }

        body.dark-mode .contact-info h3,
        body.dark-mode .contact-form h3 {
            color: var(--color-dark-text-light);
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 18px;
        }

        .contact-icon {
            width: 40px;
            height: 40px;
            background-color: var(--color-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: var(--color-primary);
            flex-shrink: 0;
        }

        body.dark-mode .contact-icon {
            background-color: var(--color-dark-surface-alt);
            color: var(--color-dark-accent);
        }

        .contact-text h4 {
            font-family: var(--font-primary);
            font-size: 1rem;
            margin-bottom: 5px;
            color: var(--color-primary-dark);
            font-weight: 600;
        }

        .contact-text p {
            margin-bottom: 0;
            font-size: 0.95rem;
            line-height: 1.4;
            color: var(--color-text);
        }

        body.dark-mode .contact-text h4 {
            color: var(--color-dark-text-light);
        }

        body.dark-mode .contact-text p {
            color: var(--color-dark-text);
        }

        /* Form styles */
        .form-group {
            margin-bottom: 18px;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: var(--color-text);
            font-size: 0.95rem;
        }

        body.dark-mode .form-group label {
            color: var(--color-dark-text);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            font-family: var(--font-primary);
            font-size: 0.95rem;
            transition: var(--transition);
            background-color: var(--color-text-light);
            color: var(--color-text);
        }

        body.dark-mode .form-control {
            background-color: var(--color-dark-surface-alt);
            color: var(--color-dark-text);
            border-color: var(--color-dark-border);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 2px rgba(139, 95, 76, 0.2);
        }

        body.dark-mode .form-control:focus {
            border-color: var(--color-dark-accent);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        /* MALÝ odoslať button */
        .contact-form .btn-primary {
            padding: 10px 20px;
            font-size: 0.9rem;
            margin-top: 10px;
        }


        /* ============================================= */
        /* Section Title Fix - "Kontaktujte nás" EŠTE NIŽŠIE */
        /* ============================================= */
        .section-title {
            padding-top: 65px !important;
            /* Zvýšené z 60px na 65px */
            margin-bottom: 0 !important;
        }

        .section-title h2 {
            font-size: 2.5rem !important;
            margin-bottom: 5px !important;
            padding-top: 0 !important;
            text-align: center;
            color: var(--color-primary-dark) !important;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            margin-left: auto;
            margin-right: auto;
            display: block;
            width: 100%;
        }

        /* ============================================= */
        /* Contact Section - Karty nižšie */
        /* ============================================= */
        .contact {
            background-color: var(--color-background);
            padding: 10px 0 30px 0 !important;
            /* ZMENENÉ: Zmenšené spodné padding z 50px na 30px */
            min-height: auto;
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            align-items: stretch;
            margin-top: 20px !important;
            /* Pridané - posunie karty nižšie */
        }

        .contact-info,
        .contact-form {
            background-color: var(--color-text-light);
            padding: 25px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-sm);
            height: auto;
            margin-top: 10px !important;
            /* Pridané - každá karta ešte nižšie */
        }

        /* ============================================= */
        /* Layout Fix - žiadny scroll */
        /* ============================================= */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        main {
            flex: 1 0 auto;
        }

        footer {
            flex-shrink: 0;
            margin-top: auto;
        }

        /* ============================================= */
        /* 12. Footer - KOMPAKTNÝ */
        /* ============================================= */
        footer {
            background-color: var(--color-primary-dark);
            color: var(--color-text-light);
            padding: 20px 0 15px;
            /* Ešte menšie */
            margin-top: auto;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            /* Ešte menšie medzery */
            max-width: 1200px;
            /* Pridané - obmedzenie šírky */
            margin: 0 auto;
            /* Pridané - centrovanie */
            padding: 0 20px;
            /* Pridané */
        }

        .footer-logo {
            font-family: var(--font-secondary);
            font-size: 1.2rem;
            /* Ešte menšie */
            font-weight: 700;
            color: var(--color-text-light);
        }

        .copyright {
            font-size: 0.8rem;
            /* Ešte menšie */
            opacity: 0.8;
            margin: 0;
        }

        body.dark-mode footer {
            background-color: var(--color-dark-surface);
            backdrop-filter: var(--backdrop-blur);
            border-top: 1px solid var(--color-dark-border);
        }

        /* ============================================= */
        /* 13. Lightbox */
        /* ============================================= */
        .lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }

        .lightbox.active {
            opacity: 1;
            visibility: visible;
        }

        /* */
        /* Kontajner sa prispôsobí viewportu, aby sa zabránilo veľkým čiernym pásom */
        .lightbox-content {
            position: relative;
            max-width: 90vw;
            /* OPRAVA: Kontajner je max 90% šírky viewportu */
            max-height: 90vh;
            /* OPRAVA: Kontajner je max 90% výšky viewportu */
            display: flex;
            /* Pridané: Aby sa kontajner prispôsobil obrázku */
            align-items: center;
            /* Pridané: Centrovanie obrázku */
            justify-content: center;
            /* Pridané: Centrovanie obrázku */
        }

        /* Obrázok sa prispôsobí svojmu kontajneru a zachová si pomer strán */
        .lightbox-img {
            width: auto;
            /* OPRAVA: Šírka sa prispôsobí */
            height: auto;
            /* OPRAVA: Výška sa prispôsobí */
            max-width: 100%;
            /* OPRAVA: Obrázok vyplní kontajner, ale nepretečie */
            max-height: 100%;
            /* OPRAVA: Obrázok vyplní kontajner, ale nepretečie */
            object-fit: contain;
            /* Dôležité: Zachová pomer strán */
            border-radius: var(--border-radius);
        }

        /* */


        .lightbox-caption {
            position: absolute;
            bottom: -3rem;
            left: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 1.1rem;
            padding: 0.5rem 0;
        }

        .lightbox-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            background-color: rgba(30, 30, 30, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            z-index: 10;
        }

        .lightbox-btn:hover {
            background-color: var(--color-primary);
        }

        .lightbox-prev {
            left: -30px;
        }

        .lightbox-next {
            right: -30px;
        }

        .lightbox-close {
            position: absolute;
            top: -50px;
            right: 0;
            width: 50px;
            height: 50px;
            background-color: rgba(30, 30, 30, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.8rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .lightbox-close:hover {
            background-color: var(--color-primary);
        }

        /* ============================================= */
        /* 14. Animations */
        /* ============================================= */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ============================================= */
        /* 15. Responsive Design */
        /* ============================================= */
        @media (max-width: 1024px) {
            .section {
                padding: calc(var(--spacing-unit) * 4) 0;
            }

            .hero {
                min-height: 700px;
            }
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }



            .nav-links {
                position: fixed;
                top: 77px;
                left: 0;
                width: 100%;
                background-color: var(--color-background);
                flex-direction: column;
                align-items: center;
                padding: 2rem 0;
                gap: 1.5rem;
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: var(--transition);
                z-index: 999;
                box-shadow: var(--shadow-md);
            }

            body.dark-mode .nav-links {
                background-color: var(--color-dark-surface);
                border: 1px solid var(--color-dark-border);
                backdrop-filter: var(--backdrop-blur);
            }

            .nav-links.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }

            .hero {
                min-height: 600px;
            }

            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-text {
                padding-right: 0;
            }

            .hero-btns {
                flex-direction: column;
                gap: 1rem;
                justify-content: center;
            }

            .service-detail-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1.5rem;
                position: static;
            }

            .back-btn {
                align-self: flex-start;
                margin-left: 0;
            }

            .service-detail-header h2 {
                width: 100%;
                text-align: center;
            }

            .service-detail-text {
                padding: 0;
            }

            .service-features {
                padding-left: 1rem;
            }
        }

        @media (max-width: 480px) {
            .section {
                padding: calc(var(--spacing-unit) * 3) 0;
            }

            .hero {
                min-height: 500px;
            }

            .container {
                padding: 0 var(--spacing-unit);
            }

            .logo-text {
                font-size: 1.25rem;
            }

            .nav-links {
                top: 70px;
            }

            /* Úprava medzery pre vlajky na mobile */
            .nav-links {
                gap: 1.2rem;
            }

            .lang-switch img {
                width: 24px;
            }

            .lightbox-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }

            .lightbox-prev {
                left: -20px;
            }

            .lightbox-next {
                right: -20px;
            }
        }

        /* ============================================= */
        /* 16. Oprava pre mobil - hero sekcia */
        /* ============================================= */
        @media (max-width: 1024px) {
            .hero-content {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }

            .hero-text {
                padding-right: 0;
                padding: 2.5rem;
            }

            .hero-btns {
                justify-content: center;
            }
        }

        @media (max-width: 768px) {
            .hero {
                min-height: 600px;
                background:
                    linear-gradient(rgba(0, 0, 0, 0.5),
                        rgba(0, 0, 0, 0.3)),
                    url('Pozadie.png') no-repeat center center/cover;
            }

            .hero-content {
                display: grid !important;
                opacity: 1 !important;
                visibility: visible !important;
                gap: 1rem;
                padding: 0 var(--spacing-unit);
            }

            .hero-text {
                padding: 2rem;
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
            }

            .hero h1 {
                font-size: 2.2rem !important;
                line-height: 1.2;
                margin-bottom: 1.5rem;
                text-align: center;
            }

            .hero p {
                font-size: 1.1rem !important;
                margin-bottom: 1.5rem;
                text-align: center;
            }

            .hero-btns {
                flex-direction: column !important;
                gap: 1rem;
            }

            .hero-btns .btn {
                padding: 1rem 1.5rem;
                font-size: 1rem;
                width: 100%;
                max-width: 280px;
                margin: 0 auto;
            }
        }

        @media (max-width: 480px) {
            .hero {
                min-height: 500px;
            }

            .hero-text {
                padding: 1.5rem;
            }

            .hero h1 {
                font-size: 1.8rem !important;
            }

            .hero p {
                font-size: 1rem !important;
            }
        }

        /* ============================================= */
        /* 17. Kompaktný Header & Footer - Responzívne */
        /* ============================================= */
        @media (max-width: 1240px) {

            .header-container,
            .footer-content {
                max-width: 95%;
                /* Na menších obrazovkách trochu viac */
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 6px 0;
                /* Ešte menšie na mobile */
            }

            .header-container {
                padding: 0 15px;
            }

            .logo-text {
                font-size: 1.1rem;
                /* Menšie na mobile */
            }

            .logo-img {
                width: 40px;
                /* Menšie na mobile */
                height: 40px;
            }

            footer {
                padding: 15px 0 10px;
                /* Menšie na mobile */
            }

            .footer-logo {
                font-size: 1.1rem;
                /* Menšie na mobile */
            }

            .copyright {
                font-size: 0.75rem;
                /* Menšie na mobile */
            }
        }

        /* ============================================= */
        /* 18. Layout Fix - Footer vždy dole */
        /* ============================================= */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        main {
            flex: 1 0 auto;
        }

        footer {
            flex-shrink: 0;
            margin-top: auto;
        }

        /* ============================================= */
        /* 19. Scroll Bar Fix */
        /* ============================================= */
        body {
            overflow-x: hidden;
        }

        /* Responzívne úpravy pre kontakt */
        @media (max-width: 768px) {
            .contact-container {
                grid-template-columns: 1fr;
                gap: calc(var(--spacing-unit) * 1.5);
            }

            .contact-info,
            .contact-form {
                padding: 1.25rem;
            }
        }

        /* ============================================= */
        /* ODSTRÁNENIE BIELÉHO PÁSU V SLUŽBÁCH */
        /* ============================================= */
        .services {
            background-color: transparent !important;
            background: transparent !important;
        }

        /* ============================================= */
        /* SILNÁ OPRAVA TEXTOV - FORCÉ */
        /* ============================================= */
        .section-title {
            margin-bottom: 2rem !important;
        }

        .section-title h2 {
            margin-bottom: 1rem !important;
        }

        .about-text h3,
        .service-card h3 {
            margin-top: -20px !important;
            margin-bottom: 1rem !important;
        }

        .about-text p,
        .service-card p {
            margin-top: 0 !important;
            margin-bottom: 1rem !important;
        }

        /* ============================================= */
        /* FINÁLNE OPRAVY PRE MOBILNÚ VERZIU (06/10/2025) */
        /* ============================================= */

        /* Krok 1: Zmenšenie obsahu v HERO sekcii, aby boli viditeľné obe tlačidlá */
        @media (max-width: 768px) {
            .hero {
                min-height: 0;
                /* Odstráni prebytočnú minimálnu výšku */
                height: 100vh;
                /* Výška sa prispôsobí obrazovke */
            }

            .hero-text {
                padding: 1.5rem;
                /* Zmenšíme vnútorné odsadenie */
            }

            .hero p {
                margin-bottom: 1.25rem;
                /* Zmenšíme medzeru pod textom */
                font-size: 1rem !important;
                /* Mierne zmenšíme text */
            }

            .hero-btns {
                gap: 0.75rem;
                /* Zmenšíme medzeru medzi tlačidlami */
            }
        }

        /* Krok 2: Oprava pretekajúceho obrázku v sekcii "O nás" */
        @media (max-width: 768px) {
            .about-image img {
                width: 100%;
                height: auto;
                max-width: 350px;
                display: block;
                margin-left: auto;
                margin-right: auto;
                border-radius: var(--border-radius-lg);
            }
        }

        /* ============================================= */
        /* 20. Vylepšenia pre moderné mobily (Safe Area & DVH) */
        /* ============================================= */
        body {
            /* Pridá odsadenie pre bezpečné zóny na mobiloch */
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }

        header {
            /* Odsadenie pre horný výrez */
            padding-top: env(safe-area-inset-top);
        }

        .hero {
            /* Použitie dynamickej výšky viewportu pre lepšiu kompatibilitu */
            min-height: 100dvh;
            /* Nová jednotka, ktorá reaguje na zmeny UI v mobile */
            height: 100dvh;
            padding-bottom: env(safe-area-inset-bottom);
            /* Odsadenie pre spodnú lištu */
        }

        footer {
            /* Odsadenie pre spodnú lištu na mobiloch */
            padding-bottom: env(safe-area-inset-bottom);
        }
    </style>
</head>

<body>
    <header>
        <div class="container header-container">
            <a href="#" class="logo" onclick="showSection('hero', event)">
                <img src="Logo_Petro.jpg" alt="Stolárstvo Petro" class="logo-img">
                <span class="logo-text">Stolárstvo Petro</span>
            </a>

            <nav>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>

                <div class="nav-links" id="navLinks">
                    <a href="#about" class="nav-link" onclick="showSection('about', event)"
                        data-translate-key="nav_about">O
                        nás</a>
                    <a href="#services" class="nav-link" onclick="showSection('services', event)"
                        data-translate-key="nav_services">Služby</a>
                    <a href="#contact" class="nav-link" onclick="showSection('contact', event)"
                        data-translate-key="nav_contact">Kontakt</a>

                    <button class="lang-switch" data-lang="sk"><img src="https://flagcdn.com/sk.svg"
                            alt="Slovenčina"></button>
                    <button class="lang-switch" data-lang="en"><img src="https://flagcdn.com/gb.svg"
                            alt="English"></button>

                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero" id="hero">
            <div class="container">
                <div class="hero-content">
                    <div class="hero-text">
                        <p data-translate-key="hero_p1">Sme rodinná stolárska dielňa, ktorej hlavným poslaním je výroba
                            drevených rakiev. Každý kus
                            vzniká s úctou, poctivým remeslom a citom, ktorý sa u nás dedí z generácie na generáciu.
                            Naše
                            rakvy spájajú tradičné hodnoty s moderným prístupom – aby boli dôstojné, kvalitné a
                            esteticky
                            jedinečné.</p>
                        <p data-translate-key="hero_p2">Okrem rakiev vyrábame aj dvere, schody, nábytok na mieru či iné
                            drevené prvky do interiéru aj
                            exteriéru.</p>
                        <div class="hero-btns">
                            <a href="#services" class="btn btn-primary" onclick="showSection('services', event)">
                                <i class="fas fa-hammer"></i> <span data-translate-key="btn_ourservices">Naše
                                    služby</span>
                            </a>
                            <a href="#contact" class="btn btn-outline" onclick="showSection('contact', event)">
                                <i class="fas fa-phone-alt"></i> <span data-translate-key="btn_contactus">Kontaktujte
                                    nás</span>
                            </a>
                        </div>
                    </div>
                    <div class="hero-image">
                        <img src="Pozadie.png" alt="Ukážka našej práce">
                    </div>
                </div>
            </div>
        </section>

        <section class="section about" id="about">
            <div class="container">
                <div class="section-title">
                    <h2 data-translate-key="about_title">O našej dielni</h2>
                </div>

                <div class="about-content">
                    <div class="about-image">
                        <img src="firma_logo_new.jpg" alt="Stolárska dielňa Petro"
                            style="max-height: 400px; object-fit: contain; border-radius: 24px;">
                    </div>

                    <div class="about-text">
                        <h3 data-translate-key="about_h3">Tradícia a kvalita od roku 1992</h3>
                        <p data-translate-key="about_p1">Sme rodinný podnik s dlhoročnou tradíciou v stolárskom remesle.
                            Naša dielňa kombinuje moderné
                            technológie s tradičnými postupmi, čo nám umožňuje vytvárať výnimočné drevené výrobky.</p>
                        <p data-translate-key="about_p2">Špecializujeme sa na výrobu kvalitných rakiev, okien,
                            prístreškov,
                            schodov a dverí, ako aj na
                            predaj ekologických brikiet. Každý výrobok je starostlivo navrhnutý a vyrobený s dôrazom na
                            detail a kvalitu.</p>
                        <a href="#services" class="btn btn-primary" onclick="showSection('services', event)">
                            <i class="fas fa-arrow-right"></i> <span data-translate-key="btn_viewservices">Pozrite si
                                naše
                                služby</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section class="section services" id="services">
            <div class="container">
                <div class="section-title">
                    <h2 data-translate-key="services_title">Naše služby</h2>
                </div>
                <div class="services-grid">
                    <div class="service-card" onclick="showServiceDetail('coffins', event)">
                        <div class="service-card-img">
                            <img src="M21_Amerika_01.jpg" alt="Výroba rakiev">
                        </div>
                        <div class="service-card-content">
                            <h3 data-translate-key="service1_h3">Výroba rakiev</h3>
                            <p data-translate-key="service1_p">Kvalitné a dôstojné rakvy vyrobené z rôznych druhov dreva
                                podľa vašich požiadaviek.</p>
                            <button class="btn btn-outline" onclick="showServiceDetail('coffins', event)">
                                <i class="fas fa-arrow-right"></i> <span data-translate-key="btn_viewdetail">Zobraziť
                                    detail</span>
                            </button>
                        </div>
                    </div>

                    <div class="service-card" onclick="showServiceDetail('furniture', event)">
                        <div class="service-card-img">
                            <img src="schody_tocive.jpg" alt="Drevený nábytok">
                        </div>
                        <div class="service-card-content">
                            <h3 data-translate-key="service2_h3">Drevené prvky pre váš domov aj exteriér</h3>
                            <p data-translate-key="service2_p">Exkluzívne drevené prvky na mieru, vyrobené z kvalitných
                                materiálov podľa vášho návrhu.</p>
                            <button class="btn btn-outline" onclick="showServiceDetail('furniture', event)">
                                <i class="fas fa-arrow-right"></i> <span data-translate-key="btn_viewdetail">Zobraziť
                                    detail</span>
                            </button>
                        </div>
                    </div>

                    <div class="service-card" onclick="showServiceDetail('briquettes', event)">
                        <div class="service-card-img">
                            <img src="briketa.jpg" alt="EKO brikety">
                        </div>
                        <div class="service-card-content">
                            <h3 data-translate-key="service3_h3">EKO brikety</h3>
                            <p data-translate-key="service3_p">Vysoko kvalitné drevené brikety vyrábané z čistých pilín
                                bez
                                chemických prísad.</p>
                            <button class="btn btn-outline" onclick="showServiceDetail('briquettes', event)">
                                <i class="fas fa-arrow-right"></i> <span data-translate-key="btn_viewdetail">Zobraziť
                                    detail</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="service-detail" id="coffins">
            <div class="container">
                <div class="service-detail-header">
                    <button class="back-btn" onclick="hideServiceDetail('coffins')">
                        <i class="fas fa-arrow-left"></i> <span data-translate-key="btn_back">Späť na služby</span>
                    </button>
                    <h2 data-translate-key="detail_coffins_title">Výroba rakiev</h2>
                </div>
                <div class="service-detail-content">
                    <div class="service-detail-text">
                        <p data-translate-key="detail_coffins_p">Ponúkame široký výber rakiev vyrobených z kvalitného
                            dreva,
                            ktoré spĺňajú najvyššie štandardy.
                            Každá rakva je vyrábaná s úctou a respektom k zosnulému.</p>
                        <h3 data-translate-key="detail_coffins_materials_h3">Používané materiály:</h3>
                        <ul class="service-features">
                            <li data-translate-key="detail_coffins_mat1">Dub - trvanlivý a pevný materiál</li>
                            <li data-translate-key="detail_coffins_mat2">Buk - jemná textúra a príjemný vzhľad</li>
                            <li data-translate-key="detail_coffins_mat3">Borovica - ľahký a cenovo dostupný variant</li>
                            <li data-translate-key="detail_coffins_mat4">Smrek - klasický výber s jemnou textúrou</li>
                        </ul>
                        <div class="gallery" id="gallery-coffins"></div>
                        <a href="#contact" class="btn btn-primary" onclick="showSection('contact', event)">
                            <i class="fas fa-envelope"></i> <span data-translate-key="btn_requestquote">Požiadať o
                                cenovú
                                ponuku</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="service-detail" id="furniture">
            <div class="container">
                <div class="service-detail-header">
                    <button class="back-btn" onclick="hideServiceDetail('furniture')">
                        <i class="fas fa-arrow-left"></i> <span data-translate-key="btn_back">Späť na služby</span>
                    </button>
                    <h2 data-translate-key="detail_furniture_title">Drevené prvky pre váš domov aj exteriér</h2>
                </div>
                <div class="service-detail-content">
                    <div class="service-detail-text">
                        <p data-translate-key="detail_furniture_p">Prinášame kvalitne spracované drevené riešenia – od
                            dverí
                            a okien cez schody až po prístrešky,
                            ktoré spájajú funkčnosť s estetikou.</p>
                        <h3 data-translate-key="detail_furniture_offer_h3">Naša ponuka:</h3>
                        <ul class="service-features">
                            <li data-translate-key="detail_furniture_offer1">Schodiská a zábradlia</li>
                            <li data-translate-key="detail_furniture_offer2">Dvere na mieru</li>
                            <li data-translate-key="detail_furniture_offer3">Certifikované drevené Eeurookná</li>
                            <li data-translate-key="detail_furniture_offer4">Drevovýrobky do interiéru a exteriéru</li>
                        </ul>
                        <h3 data-translate-key="detail_furniture_adv_h3">Výhody:</h3>
                        <ul class="service-features">
                            <li data-translate-key="detail_furniture_adv1">Individuálny prístup ku každému projektu</li>
                            <li data-translate-key="detail_furniture_adv2">Používame iba kvalitné a certifikované
                                materiály
                            </li>
                            <li data-translate-key="detail_furniture_adv3">Dlhá životnosť a odolnosť výrobkov</li>
                            <li data-translate-key="detail_furniture_adv4">Ekologické a zdravotne nezávadné spracovanie
                            </li>
                        </ul>
                        <div class="gallery" id="gallery-furniture"></div>
                        <a href="#contact" class="btn btn-primary" onclick="showSection('contact', event)">
                            <i class="fas fa-envelope"></i> <span data-translate-key="btn_freeconsult">Konzultácia
                                zdarma</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="service-detail" id="briquettes">
            <div class="container">
                <div class="service-detail-header">
                    <button class="back-btn" onclick="hideServiceDetail('briquettes')">
                        <i class="fas fa-arrow-left"></i> <span data-translate-key="btn_back">Späť na služby</span>
                    </button>
                    <h2 data-translate-key="detail_briquettes_title">EKO brikety</h2>
                </div>
                <div class="service-detail-content">
                    <div class="service-detail-text">
                        <p data-translate-key="detail_briquettes_p">Naše drevené brikety sú vyrábané z čistých pilín bez
                            akýchkoľvek chemických prísad. Vznikajú
                            lisovaním pri vysokom tlaku, čo im dodáva výnimočnú hustotu a vysokú výhrevnosť.</p>
                        <h3 data-translate-key="detail_briquettes_prop_h3">Vlastnosti našich brikiet:</h3>
                        <ul class="service-features">
                            <li data-translate-key="detail_briquettes_prop1">Vysoká výhrevnosť – až 18,31 MJ/kg
                                (porovnateľná s čiernym uhlím)</li>
                            <li data-translate-key="detail_briquettes_prop2">Nízka vlhkosť – iba 3,17 %</li>
                            <li data-translate-key="detail_briquettes_prop3">Minimálny obsah popola – len 1,45 %, vhodný
                                ako
                                hnojivo</li>
                            <li data-translate-key="detail_briquettes_prop4">Ekologické palivo bez chemických prísad
                            </li>
                        </ul>
                        <h3 data-translate-key="detail_briquettes_adv_h3">Výhody:</h3>
                        <ul class="service-features">
                            <li data-translate-key="detail_briquettes_adv1">Dlhý čas horenia – približne 90 minút</li>
                            <li data-translate-key="detail_briquettes_adv2">Vhodné pre takmer všetky typy kotlov, krbov
                                a
                                piecok na pevné palivo</li>
                            <li data-translate-key="detail_briquettes_adv3">Horenie s jasným plameňom a minimálnym dymom
                            </li>
                            <li data-translate-key="detail_briquettes_adv4">Príjemná vôňa prírodného dreva</li>
                            <li data-translate-key="detail_briquettes_adv5">Vhodné pre všetky druhy krbov a kachlí</li>
                        </ul>
                        <div class="gallery" id="gallery-briquettes"></div>
                        <a href="#contact" class="btn btn-primary" onclick="showSection('contact', event)">
                            <i class="fas fa-shopping-cart"></i> <span data-translate-key="btn_order">Objednať
                                brikety</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <section class="section contact" id="contact">
            <div class="container">
                <div class="section-title">
                    <h2 data-translate-key="contact_title">Kontaktujte nás</h2>
                </div>
                <div class="contact-container">
                    <div class="contact-info">
                        <h3 data-translate-key="contact_findus">Kde nás nájdete</h3>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="contact-text">
                                <h4 data-translate-key="contact_address">Adresa</h4>
                                <p>Radatice 219, 08242 Radatice</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div class="contact-text">
                                <h4 data-translate-key="contact_phone">Telefón</h4>
                                <p data-translate-key="contact_phone_joinery">+421 905 213 426 (Stolárstvo)</p>
                                <p data-translate-key="contact_phone_transport">+421 905 500 405 (Stolárstvo)</p>
                                <p data-translate-key="contact_phone_briquettes">+421 908 124 008 (Ekobrikety)</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Email</h4>
                                <p>petrostolarstvo@gmail.com</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="contact-text">
                                <h4 data-translate-key="contact_hours">Otváracie hodiny</h4>
                                <p data-translate-key="contact_hours_monfri">Pondelok - Piatok: 8:00 - 18:00</p>
                                <p data-translate-key="contact_hours_sat">Sobota: Na objednávku</p>
                            </div>
                        </div>
                    </div>
                    <div class="contact-form">
                        <h3 data-translate-key="contact_form_title">Napíšte nám</h3>
                        <form action="https://formspree.io/f/xgvkeypd" method="POST">
                            <div class="form-group">
                                <label for="name" data-translate-key="form_name">Meno a priezvisko</label>
                                <input type="text" id="name" name="name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="phone" data-translate-key="form_phone">Telefón</label>
                                <input type="tel" id="phone" name="phone" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="message" data-translate-key="form_message">Vaša správa</label>
                                <textarea id="message" name="message" class="form-control" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i> <span data-translate-key="btn_send">Odoslať
                                    správu</span>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">Stolárstvo Petro</div>
                <p class="copyright" data-translate-key="footer_copyright">&copy; Miloš Gall. Všetky práva vyhradené.
                </p>
            </div>
        </div>
    </footer>

    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" aria-label="Zavrieť">
                <i class="fas fa-times"></i>
            </button>
            <button class="lightbox-btn lightbox-prev" aria-label="Predchádzajúci obrázok">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="lightbox-btn lightbox-next" aria-label="Nasledujúci obrázok">
                <i class="fas fa-chevron-right"></i>
            </button>
            <img src="" alt="" class="lightbox-img" id="lightbox-img">
            <div class="lightbox-caption" id="lightbox-caption"></div>
        </div>
    </div>

    <script>
        // Zabraňuje automatickému skrolovaniu na predošlú pozíciu pri obnovení stránky
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }

        // Objekt s prekladmi (zostáva nezmenený)
        const translations = {
            en: {
                meta_title: "Petro Carpentry | Luxury Woodwork",
                meta_description: "Premium carpentry products and custom solutions from quality wood. Family tradition since 1992.",
                nav_about: "About Us",
                nav_services: "Services",
                nav_contact: "Contact",
                hero_p1: "We are a family carpentry workshop whose main mission is the production of wooden coffins. Each piece is created with respect, honest craftsmanship, and a sensibility that has been passed down from generation to generation. Our coffins combine traditional values with a modern approach – to be dignified, high-quality, and aesthetically unique.",
                hero_p2: "In addition to coffins, we also produce doors, stairs, custom furniture, and other wooden elements for both interior and exterior.",
                btn_ourservices: "Our Services",
                btn_contactus: "Contact Us",
                about_title: "About Our Workshop",
                about_h3: "Tradition and Quality Since 1992",
                about_p1: "We are a family business with a long tradition in the craft of carpentry. Our workshop combines modern technology with traditional methods, allowing us to create exceptional wooden products.",
                about_p2: "We specialize in the production of quality coffins, windows, shelters, stairs, and doors, as well as the sale of ecological briquettes. Each product is carefully designed and manufactured with an emphasis on detail and quality.",
                btn_viewservices: "View Our Services",
                services_title: "Our Services",
                service1_h3: "Coffin Production",
                service1_p: "High-quality and dignified coffins made from various types of wood according to your requirements.",
                btn_viewdetail: "View Detail",
                service2_h3: "Wooden Elements for Your Home and Exterior",
                service2_p: "Exclusive custom-made wooden elements, crafted from high-quality materials based on your design.",
                service3_h3: "ECO Briquettes",
                service3_p: "High-quality wooden briquettes made from pure sawdust without chemical additives.",
                btn_back: "Back to Services",
                detail_coffins_title: "Coffin Production",
                detail_coffins_p: "We offer a wide selection of coffins made from high-quality wood that meet the highest standards. Each coffin is produced with respect and reverence for the deceased.",
                detail_coffins_materials_h3: "Materials Used:",
                detail_coffins_mat1: "Oak - durable and strong material",
                detail_coffins_mat2: "Beech - fine texture and pleasant appearance",
                detail_coffins_mat3: "Pine - lightweight and affordable option",
                detail_coffins_mat4: "Spruce - classic choice with a fine texture",
                btn_requestquote: "Request a Quote",
                detail_furniture_title: "Wooden Elements for Your Home and Exterior",
                detail_furniture_p: "We provide high-quality wooden solutions – from doors and windows to stairs and shelters, combining functionality with aesthetics.",
                detail_furniture_offer_h3: "Our Offer:",
                detail_furniture_offer1: "Staircases and railings",
                detail_furniture_offer2: "Custom-made doors",
                detail_furniture_offer3: "Certified wooden Euro-windows",
                detail_furniture_offer4: "Wooden products for interior and exterior",
                detail_furniture_adv_h3: "Advantages:",
                detail_furniture_adv1: "Individual approach to each project",
                detail_furniture_adv2: "We use only high-quality and certified materials",
                detail_furniture_adv3: "Long lifespan and durability of products",
                detail_furniture_adv4: "Ecological and health-safe processing",
                btn_freeconsult: "Free Consultation",
                detail_briquettes_title: "ECO Briquettes",
                detail_briquettes_p: "Our wooden briquettes are made from pure sawdust without any chemical additives. They are formed by pressing at high pressure, which gives them exceptional density and high heating value.",
                detail_briquettes_prop_h3: "Properties of Our Briquettes:",
                detail_briquettes_prop1: "High heating value – up to 18.31 MJ/kg (comparable to black coal)",
                detail_briquettes_prop2: "Low moisture content – only 3.17%",
                detail_briquettes_prop3: "Minimal ash content – only 1.45%, suitable as fertilizer",
                detail_briquettes_prop4: "Ecological fuel without chemical additives",
                detail_briquettes_adv_h3: "Advantages:",
                detail_briquettes_adv1: "Long burning time – approximately 90 minutes",
                detail_briquettes_adv2: "Suitable for almost all types of boilers, fireplaces, and solid fuel stoves",
                detail_briquettes_adv3: "Burns with a bright flame and minimal smoke",
                detail_briquettes_adv4: "Pleasant scent of natural wood",
                detail_briquettes_adv5: "Suitable for all types of fireplaces and stoves",
                btn_order: "Order Briquettes",
                contact_title: "Contact Us",
                contact_findus: "Where to Find Us",
                contact_address: "Address",
                contact_phone: "Phone",
                contact_phone_joinery: "+421 905 213 426  (Carpentry)",
                contact_phone_transport: "+421 905 500 405 (Carpentry)",
                contact_phone_briquettes: "+421 908 124 008 (Ecobriquettes)",
                contact_hours: "Opening Hours",
                contact_hours_monfri: "Monday - Friday: 8:00 - 18:00",
                contact_hours_sat: "Saturday: By appointment",
                contact_form_title: "Write to Us",
                form_name: "Full Name",
                form_phone: "Phone",
                form_message: "Your Message",
                btn_send: "Send Message",
                footer_copyright: "© Miloš Gall. All rights reserved."
            },
            sk: {
                meta_title: "Stolárstvo Petro | Luxusná Drevovýroba",
                meta_description: "Prémiové stolárske výrobky a remeselné riešenia z kvalitného dreva. Rodinná tradícia od roku 1992.",
                nav_about: "O nás",
                nav_services: "Služby",
                nav_contact: "Kontakt",
                hero_p1: "Sme rodinná stolárska dielňa, ktorej hlavným poslaním je výroba drevených rakiev. Každý kus vzniká s úctou, poctivým remeslom a citom, ktorý sa u nás dedí z generácie na generáciu. Naše rakvy spájajú tradičné hodnoty s moderným prístupom – aby boli dôstojné, kvalitné a esteticky jedinečné.",
                hero_p2: "Okrem rakiev vyrábame aj dvere, schody, nábytok na mieru či iné drevené prvky do interiéru aj exteriéru.",
                btn_ourservices: "Naše služby",
                btn_contactus: "Kontaktujte nás",
                about_title: "O našej dielni",
                about_h3: "Tradícia a kvalita od roku 1992",
                about_p1: "Sme rodinný podnik s dlhoročnou tradíciou v stolárskom remesle. Naša dielňa kombinuje moderné technológie s tradičnými postupmi, čo nám umožňuje vytvárať výnimočné drevené výrobky.",
                about_p2: "Špecializujeme sa na výrobu kvalitných rakiev, okien, prístreškov, schodov a dverí, ako aj na predaj ekologických brikiet. Každý výrobok je starostlivo navrhnutý a vyrobený s dôrazom na detail a kvalitu.",
                btn_viewservices: "Pozrite si naše služby",
                services_title: "Naše služby",
                service1_h3: "Výroba rakiev",
                service1_p: "Kvalitné a dôstojné rakvy vyrobené z rôznych druhov dreva podľa vašich požiadaviek.",
                btn_viewdetail: "Zobraziť detail",
                service2_h3: "Drevené prvky pre váš domov aj exteriér",
                service2_p: "Exkluzívne drevené prvky na mieru, vyrobené z kvalitných materiálov podľa vášho návrhu.",
                service3_h3: "EKO brikety",
                service3_p: "Vysoko kvalitné drevené brikety vyrábané z čistých pilín bez chemických prísad.",
                btn_back: "Späť na služby",
                detail_coffins_title: "Výroba rakiev",
                detail_coffins_p: "Ponúkame široký výber rakiev vyrobených z kvalitného dreva, ktoré spĺňajú najvyššie štandardy. Každá rakva je vyrábaná s úctou a respektom k zosnulému.",
                detail_coffins_materials_h3: "Používané materiály:",
                detail_coffins_mat1: "Dub - trvanlivý a pevný materiál",
                detail_coffins_mat2: "Buk - jemná textúra a príjemný vzhľad",
                detail_coffins_mat3: "Borovica - ľahký a cenovo dostupný variant",
                detail_coffins_mat4: "Smrek - klasický výber s jemnou textúrou",
                btn_requestquote: "Požiadať o cenovú ponuku",
                detail_furniture_title: "Drevené prvky pre váš domov aj exteriér",
                detail_furniture_p: "Prinášame kvalitne spracované drevené riešenia – od dverí a okien cez schody až po prístrešky, ktoré spájajú funkčnosť s estetikou.",
                detail_furniture_offer_h3: "Naša ponuka:",
                detail_furniture_offer1: "Schodiská a zábradlia",
                detail_furniture_offer2: "Dvere na mieru",
                detail_furniture_offer3: "Certifikované drevené Eeurookná",
                detail_furniture_offer4: "Drevovýrobky do interiéru a exteriéru",
                detail_furniture_adv_h3: "Výhody:",
                detail_furniture_adv1: "Individuálny prístup ku každému projektu",
                detail_furniture_adv2: "Používame iba kvalitné a certifikované materiály",
                detail_furniture_adv3: "Dlhá životnosť a odolnosť výrobkov",
                detail_furniture_adv4: "Ekologické a zdravotne nezávadné spracovanie",
                btn_freeconsult: "Konzultácia zdarma",
                detail_briquettes_title: "EKO brikety",
                detail_briquettes_p: "Naše drevené brikety sú vyrábané z čistých pilín bez akýchkoľvek chemických prísad. Vznikajú lisovaním pri vysokom tlaku, čo im dodáva výnimočnú hustotu a vysokú výhrevnosť.",
                detail_briquettes_prop_h3: "Vlastnosti našich brikiet:",
                detail_briquettes_prop1: "Vysoká výhrevnosť – až 18,31 MJ/kg (porovnateľná s čiernym uhlím)",
                detail_briquettes_prop2: "Nízka vlhkosť – iba 3,17 %",
                detail_briquettes_prop3: "Minimálny obsah popola – len 1,45 %, vhodný ako hnojivo",
                detail_briquettes_prop4: "Ekologické palivo bez chemických prísad",
                detail_briquettes_adv_h3: "Výhody:",
                detail_briquettes_adv1: "Dlhý čas horenia – približne 90 minút",
                detail_briquettes_adv2: "Vhodné pre takmer všetky typy kotlov, krbov a piecok na pevné palivo",
                detail_briquettes_adv3: "Horenie s jasným plameňom a minimálnym dymom",
                detail_briquettes_adv4: "Príjemná vôňa prírodného dreva",
                detail_briquettes_adv5: "Vhodné pre všetky druhy krbov a kachlí",
                btn_order: "Objednať brikety",
                contact_title: "Kontaktujte nás",
                contact_findus: "Kde nás nájdete",
                contact_address: "Adresa",
                contact_phone: "Telefón",
                contact_phone_joinery: "+421 905 213 426  (Stolárstvo)",
                contact_phone_transport: "+421 905 500 405 (Stolárstvo)",
                contact_phone_briquettes: "+421 908 124 008 (Ekobrikety)",
                contact_hours: "Otváracie hodiny",
                contact_hours_monfri: "Pondelok - Piatok: 8:00 - 18:00",
                contact_hours_sat: "Sobota: Na objednávku",
                contact_form_title: "Napíšte nám",
                form_name: "Meno a priezvisko",
                form_phone: "Telefón",
                form_message: "Vaša správa",
                btn_send: "Odoslať správu",
                footer_copyright: "© Miloš Gall. Všetky práva vyhradené."
            }
        };

        document.addEventListener('DOMContentLoaded', function () {
            // === VŠETKY POTREBNÉ PREMENNÉ ===
            const allContent = document.querySelectorAll('section, .service-detail');
            const headerElement = document.querySelector('header');
            const navLinksContainer = document.getElementById('navLinks');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const themeToggle = document.getElementById('themeToggle');
            const body = document.body;

            // =============================================
            // 1. Logika pre preklady
            // =============================================
            const langSwitches = document.querySelectorAll('.lang-switch');
            const setLanguage = (lang) => {
                document.documentElement.lang = lang;
                document.querySelectorAll('[data-translate-key]').forEach(element => {
                    const key = element.dataset.translateKey;
                    const translation = translations[lang][key];
                    if (translation !== undefined) {
                        if (element.querySelector('i') && element.querySelector('span')) {
                            element.querySelector('span').textContent = translation;
                        } else if (key === 'meta_description') {
                            element.setAttribute('content', translation);
                        } else {
                            element.textContent = translation;
                        }
                    }
                });
                localStorage.setItem('language', lang);
                langSwitches.forEach(sw => {
                    sw.classList.remove('active');
                    if (sw.dataset.lang === lang) sw.classList.add('active');
                });
            };

            langSwitches.forEach(button => {
                button.addEventListener('click', (event) => {
                    setLanguage(event.currentTarget.dataset.lang);
                });
            });

            const savedLang = localStorage.getItem('language') || 'sk';
            setLanguage(savedLang);

            // =============================================
            // 2. Mobilné menu
            // =============================================
            mobileMenuBtn.addEventListener('click', function () {
                navLinksContainer.classList.toggle('active');
                mobileMenuBtn.innerHTML = navLinksContainer.classList.contains('active') ?
                    '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
            });

            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function () {
                    if (navLinksContainer.classList.contains('active')) {
                        navLinksContainer.classList.remove('active');
                        mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                    }
                });
            });

            // =============================================
            // 3. Tmavý režim
            // =============================================
            if (localStorage.getItem('darkMode') === 'enabled') {
                body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            themeToggle.addEventListener('click', function () {
                body.classList.toggle('dark-mode');
                if (body.classList.contains('dark-mode')) {
                    localStorage.setItem('darkMode', 'enabled');
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                } else {
                    localStorage.setItem('darkMode', 'disabled');
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                }
            });

            // =============================================
            // 4. Navigácia a viditeľnosť sekcií (S NOVOU HISTORY API LOGIKOU)
            // =============================================
            function hideAllContent() {
                allContent.forEach(content => content.style.display = 'none');
            }

            function showContent(contentId) {
                hideAllContent();
                const contentToShow = document.getElementById(contentId);
                if (contentToShow) {
                    contentToShow.style.display = 'block';

                    // // OPRAVA PROBLÉMU SO SKROLOVANÍM - ZAČIATOK
                    // Pri každom prepnutí sekcie (cez display: block/none)
                    // chceme začať od samého vrchu stránky ("natvrdo").
                    // Interné odsadenie (padding-top) v sekciách už rieši
                    // prekrytie fixným headerom.
                    window.scrollTo({ top: 0, behavior: 'auto' });
                    // // OPRAVA PROBLÉMU SO SKROLOVANÍM - KONIEC

                    /*
                    // PÔVODNÁ CHYBNÁ LOGIKA
                    // Plynulé skrolovanie na sekciu
                    let scrollPosition = 0;
                    if (contentId !== 'hero') {
                        const headerHeight = headerElement.offsetHeight;
                        scrollPosition = contentToShow.offsetTop - headerHeight - 10;
                    }
                    window.scrollTo({ top: scrollPosition, behavior: 'auto' }); // Zmenené na 'auto' pre okamžitý skok
                    */
                }
                // Aktualizácia aktívneho linku v menu
                document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`.nav-link[href="#${contentId}"]`);
                if (activeLink) activeLink.classList.add('active');
            }

            // Globálna funkcia pre onclick atribúty v HTML
            window.showSection = function (sectionId, event) {
                if (event) event.preventDefault();
                const newUrl = `#${sectionId}`;
                // Pridá nový záznam do histórie, iba ak sa URL mení
                if (window.location.hash !== newUrl) {
                    history.pushState({ section: sectionId }, '', newUrl);
                }
                showContent(sectionId);
            };

            // Funkcia na spracovanie navigácie (aj pri načítaní stránky)
            function handleNavigation() {
                const hash = window.location.hash.substring(1);
                // Zoznam všetkých platných sekcií a detailov
                const validIds = ['hero', 'about', 'services', 'contact', 'coffins', 'furniture', 'briquettes'];
                if (hash && validIds.includes(hash)) {
                    showContent(hash);
                } else {
                    showContent('hero'); // Predvolená sekcia
                }
            }

            // "Počúva" na zmeny v histórii (napr. gesto späť)
            window.addEventListener('popstate', function (event) {
                handleNavigation();
            });

            // Prvotné nastavenie pri načítaní stránky
            handleNavigation();
            // Nahradí počiatočný stav, aby sa nevytvoril duplicitný záznam v histórii
            const initialSection = window.location.hash.substring(1) || 'hero';
            history.replaceState({ section: initialSection }, '', `#${initialSection}`);

            // =============================================
            // 5. Zobrazenie detailu služby
            // =============================================
            window.showServiceDetail = function (serviceId, event) {
                if (event) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                const newUrl = `#${serviceId}`;
                history.pushState({ section: serviceId }, '', newUrl);
                showContent(serviceId);
            };

            window.hideServiceDetail = function (serviceId) {
                // Použije .back() namiesto priameho odkazu na #services,
                // čo zaistí prirodzenejšie správanie
                history.back();
            };

            // =============================================
            // 6. Galéria a Lightbox (bez zmeny)
            // =============================================
            const galleryData = {
                coffins: [
                    { src: 'M21_Amerika_01.jpg', caption: 'Model M21 Amerika' }, { src: 'M21_Amerika_05.jpg', caption: 'Detail M21 Amerika' }, { src: 'M10_smrek_tmavá_s_popisom.jpg', caption: 'Model M10 smrek tmavý' }, { src: 'M10+V_smrek_melír_vecera_s_popisom.jpg', caption: 'Model M10+V smrek melír' }, { src: 'M9_P_smrek_03.jpg', caption: 'Model M9_P_smrek_03' }, { src: 'M10_P_LUX_smrek_02.jpg', caption: 'M10 Lux Smrek' }, { src: 'M6_LUX_smrek.jpg', caption: 'MM6 Lux Smrek' }, { src: 'M9_kríž_cesta.jpg', caption: 'Model M9 Krížová cesta' }, { src: 'M10_smrek_melír.jpg', caption: 'Model M10 Smrek melír' }, { src: 'M10_Biela_smrek.jpg', caption: 'Model M0 Biela Smrek' }, { src: 'M11_V_smrek_03.jpg', caption: 'Model M11 Smrek 03' }, { src: 'M8_P_smrek_03.jpg', caption: 'Model M8 Smrek 02' }, { src: 'M11_P_smrek_04.jpg', caption: 'Model M11 Smrek 04' }, { src: 'M10_P_smrek_04.jpg', caption: 'Model M10 Smrek 04' }, { src: 'M3_P_buk_01.jpg', caption: 'Model M3 Buk 01' }, { src: 'M10 _P_smrek_05.jpg', caption: 'Model M10 Smrek 05' }, { src: 'M10_P_smrek_03.jpg', caption: 'Model M10 Smrek 03' }, { src: 'M11_P_smrek_02.jpg', caption: 'Model M11 Smrek 02' }, { src: 'M11_P_smrek_01.jpg', caption: 'Model M11 Smrek 01' }, { src: 'M10_V_smrek_03.jpg', caption: 'Model M10 Smrek 03' }, { src: 'M10_smrek.jpg', caption: 'Model M10 Smrek' }, { src: 'M10_P_smrek_01.jpg', caption: 'Model M10 Smrek 01' }, { src: 'detail.jpg', caption: 'Model Detail' }
                ],
                furniture: [
                    { src: 'dvere_matne.jpg', caption: '' }, { src: 'dvere_fra.jpg', caption: '' }, { src: 'schody_tocive.jpg', caption: '' }, { src: 'trojokno.jpg', caption: '' }, { src: 'dd1.jpg', caption: '' }, { src: 'dd2.jpg', caption: '' }, { src: 'dd3.jpg', caption: '' }, { src: 'dd4.jpg', caption: '' }, { src: 'dd5.jpg', caption: '' }, { src: 'dd6.jpg', caption: '' }, { src: 'dd7.jpg', caption: '' }, { src: 'dd8.jpg', caption: '' }, { src: 'dd9.jpg', caption: '' }, { src: 'dd11.jpg', caption: '' }, { src: 'dd12.jpg', caption: '' }, { src: 'dd13.jpg', caption: '' }, { src: 'dd14.jpg', caption: '' }, { src: 'dd15.jpg', caption: '' }, { src: 'dd16.jpg', caption: '' }
                ],
                briquettes: [
                    { src: 'briketa.jpg', caption: '' }, { src: 'drevo_briketa.jpg', caption: '' }, { src: 'stroj_1.jpg', caption: '' }, { src: 'stroj_2.jpg', caption: '' }
                ]
            };

            function populateGalleries() {
                for (const galleryId in galleryData) {
                    const galleryContainer = document.getElementById(`gallery-${galleryId}`);
                    if (!galleryContainer) continue;
                    galleryContainer.innerHTML = '';
                    galleryData[galleryId].forEach((item, index) => {
                        const galleryItem = document.createElement('div');
                        galleryItem.className = 'gallery-item';
                        galleryItem.innerHTML = `<img src="${item.src}" alt="${item.caption}"><div class="gallery-caption">${item.caption}</div>`;
                        galleryItem.addEventListener('click', () => openLightbox(galleryId, index));
                        galleryContainer.appendChild(galleryItem);
                    });
                }
            }
            populateGalleries();

            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const lightboxClose = document.querySelector('.lightbox-close');
            const lightboxPrev = document.querySelector('.lightbox-prev');
            const lightboxNext = document.querySelector('.lightbox-next');
            let currentGallery = '';
            let currentIndex = 0;

            function openLightbox(galleryId, index) {
                currentGallery = galleryId;
                currentIndex = index;
                updateLightboxImage();
                lightbox.classList.add('active');
                document.body.style.overflow = 'hidden';
                document.addEventListener('keydown', handleKeyPress);
            }

            function closeLightbox() {
                lightbox.classList.remove('active');
                document.body.style.overflow = '';
                document.removeEventListener('keydown', handleKeyPress);
            }

            function updateLightboxImage() {
                const image = galleryData[currentGallery][currentIndex];
                lightboxImg.src = image.src;
                lightboxImg.alt = image.caption;
                lightboxCaption.textContent = image.caption;
            }

            function showPrevImage() {
                currentIndex = (currentIndex - 1 + galleryData[currentGallery].length) % galleryData[currentGallery].length;
                updateLightboxImage();
            }

            function showNextImage() {
                currentIndex = (currentIndex + 1) % galleryData[currentGallery].length;
                updateLightboxImage();
            }

            function handleKeyPress(e) {
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowLeft') showPrevImage();
                if (e.key === 'ArrowRight') showNextImage();
            }

            lightboxClose.addEventListener('click', closeLightbox);
            lightboxPrev.addEventListener('click', showPrevImage);
            lightboxNext.addEventListener('click', showNextImage);
            lightbox.addEventListener('click', function (e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });
        });
    </script>
</body>

</html>